<!DOCTYPE html>
<html lang="en">
<head>
    <title>Results</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/style.css" rel="stylesheet">
</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Financial Analysis App</a>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="text-center gradient-header py-3 mb-4">
            <h1 class="display-5 text-light">Financial Analysis Results</h1>
        </div>

        <div class="card shadow-lg p-4 fade-in">
            <h4>Summary</h4>
            <ul class="list-group list-group-flush">
                <li class="list-group-item"><strong>Name:</strong> {{ name }}</li>
                <li class="list-group-item"><strong>Total Expenses:</strong> ${{ total_expenses }}</li>
                <li class="list-group-item"><strong>Total Earnings:</strong> ${{ earnings }}</li>
                <li class="list-group-item"><strong>Savings:</strong> ${{ savings }}</li>
            </ul>
        </div>

        <div class="card shadow-lg p-4 mt-5 fade-in">
            <h4>Investment Allocation</h4>
            <table class="table table-hover">
                <thead class="table-light">
                    <tr>
                        <th>Company</th>
                        <th>Investment ($)</th>
                        <th>Expected Return (%)</th>
                        <th>Risk (Volatility %)</th>
                        <th>Post-Investment Amount ($)</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in investment_table %}
                    <tr>
                        <td>{{ row['Company'] }}</td>
                        <td>${{ '{:,.2f}'.format(row['Investment ($)']) }}</td>
                        <td>{{ row['Expected Return (%)'] }}%</td>
                        <td>{{ row['Risk (Volatility %)'] }}%</td>
                        <td>${{ '{:,.2f}'.format(row['Post-Investment Amount ($)']) }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="mt-5 fade-in">
            <h4 class="text-center">Visualizations</h4>
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <img src="{{ pie_expenses_path }}" class="img-fluid rounded shadow-hover" alt="Expenses Pie Chart">
                        <div class="card-body">
                            <h5 class="card-title text-center">Expenses Breakdown</h5>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <img src="{{ bar_savings_path }}" class="img-fluid rounded shadow-hover" alt="Savings Bar Chart">
                        <div class="card-body">
                            <h5 class="card-title text-center">Savings Comparison</h5>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <img src="{{ line_savings_path }}" class="img-fluid rounded shadow-hover" alt="Savings Growth Line Chart">
                        <div class="card-body">
                            <h5 class="card-title text-center">Savings Growth Over Time</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-5 fade-in">
            <h4 class="text-center">Investment Allocation Charts</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                        <img src="{{ pie_allocation_path }}" class="img-fluid rounded shadow-hover" alt="Investment Pie Chart">
                        <div class="card-body">
                            <h5 class="card-title text-center">Investment Allocation</h5>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <img src="{{ line_allocation_path }}" class="img-fluid rounded shadow-hover" alt="Cumulative Investment Chart">
                        <div class="card-body">
                            <h5 class="card-title text-center">Cumulative Investment</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-5 fade-in">
            <h4 class="text-center">Stock Prediction Chart</h4>
            <div class="card">
                <img src="{{ prediction_chart }}" class="img-fluid rounded shadow-hover" alt="Prediction Chart">
                <div class="card-body">
                    <h5 class="card-title text-center">Stock Predictions for {{ ticker }}</h5>
                </div>
            </div>
        </div>

        <div class="text-center mt-4 fade-in">
            <a href="/" class="btn btn-primary btn-lg shadow-hover">Enter New Data</a>
        </div>
    </div>
</body>
</html>
